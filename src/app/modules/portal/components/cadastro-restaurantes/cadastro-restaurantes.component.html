<section id="breadcrumbs" class="breadcrumbs">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center">
      <h2>Cadastro de Restaurante</h2>
    </div>
  </div>
</section>
<!-- End Breadcrumbs -->
<!-- ======= Blog Section ======= -->
<section id="blog" class="blog">
  <div class="container" data-aos="fade-up">
    <div class="row">
      <div class="col-lg-8 entries" style="padding: 30px">
        <h2>Cadastrar um novo Restaurante.</h2>
        <form [formGroup]="cadastro" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label for="formGroupExampleInput">Nome Restaurante</label>
            <input
              type="text"
              class="form-control {{
                this.cadastro.controls['nomeRestaurante'].touched &&
                this.cadastro.controls['nomeRestaurante'].value == null
                  ? 'is-invalid'
                  : ''
              }}"
              formControlName="nomeRestaurante"
              placeholder="Titulo"
            />
            <div
              *ngIf="
                this.cadastro.controls['nomeRestaurante'].touched &&
                this.cadastro.controls['nomeRestaurante'].value == null
              "
            >
              <span class="text-danger">
                É necessário preencher o nome do Restaurante. <br
              /></span>
            </div>
            <label for="formGroupExampleInput">Imagem Restaurante</label>
            <input
              type="file"
              class="form-control"
              id="formGroupExampleInput"
              (change)="onFileChange($event)"
            />
          </div>
          <div class="row">
            <div class="col-md-10">
              <div class="form-group">
                <label for="inputAddress">Endereço</label>
                <input
                  type="text"
                  formControlName="endereco"
                  class="form-control {{
                    this.cadastro.controls['endereco'].touched &&
                    this.cadastro.controls['endereco'].value == null
                      ? 'is-invalid'
                      : ''
                  }}"
                  id="inputAddress"
                  placeholder="1234 Main St"
                />
              </div>
              <div
                *ngIf="
                  this.cadastro.controls['endereco'].touched &&
                  this.cadastro.controls['endereco'].value == null
                "
              >
                <span class="text-danger">
                  É necessário preencher o Endereço. <br
                /></span>
              </div>
            </div>
            <div class="col-md-2">
              <div class="form-group">
                <label for="inputAddress">Número</label>
                <input
                  type="text"
                  formControlName="numero"
                  class="form-control {{
                    this.cadastro.controls['numero'].touched &&
                    this.cadastro.controls['numero'].value == null
                      ? 'is-invalid'
                      : ''
                  }}"
                  id="inputAddress"
                  placeholder="123"
                />
                <div
                  *ngIf="
                    this.cadastro.controls['numero'].touched &&
                    this.cadastro.controls['numero'].value == null
                  "
                >
                  <span class="text-danger">
                    É necessário preencher o número. <br
                  /></span>
                </div>
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <label for="inputAddress">CEP</label>
                <input
                  type="text"
                  formControlName="cep"
                  class="form-control {{
                    this.cadastro.controls['cep'].touched &&
                    this.cadastro.controls['cep'].value == null
                      ? 'is-invalid'
                      : ''
                  }}"
                  id="inputAddress"
                />
                <div
                *ngIf="
                  this.cadastro.controls['cep'].touched &&
                  this.cadastro.controls['cep'].value == null
                "
              >
                <span class="text-danger">
                  É necessário preencher o CEP. <br
                /></span>
              </div>
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <label for="inputState">Estado</label>
                <select
                  id="inputState"
                  class="form-control {{
                    this.cadastro.controls['uf'].touched &&
                    this.cadastro.controls['uf'].value == null
                      ? 'is-invalid'
                      : ''
                  }}"
                  (change)="getCidades($event.target.value)"
                  formControlName="uf"
                >
                  <option selected>Selecione</option>
                  <option *ngFor="let estado of estados" value="{{ estado }}">
                    {{ estado }}
                  </option>
                </select>
                <div
                *ngIf="
                  this.cadastro.controls['uf'].touched &&
                  this.cadastro.controls['uf'].value == null
                "
              >
                <span class="text-danger">
                  É necessário preencher o Estado. <br
                /></span>
              </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="inputState">Cidade</label>
                <select
                  id="inputState"
                  class="form-control {{
                    this.cadastro.controls['municipio'].touched &&
                    this.cadastro.controls['municipio'].value == null
                      ? 'is-invalid'
                      : ''
                  }}"
                  formControlName="municipio"
                >
                  <option *ngFor="let cidade of cidades" value="{{ cidade }}">
                    {{ cidade }}
                  </option>
                </select>
                <div
                *ngIf="
                  this.cadastro.controls['municipio'].touched &&
                  this.cadastro.controls['municipio'].value == null
                "
              >
                <span class="text-danger">
                  É necessário preencher o municipio. <br
                /></span>
              </div>
              </div>
            </div>
          </div>
          <div *ngIf="erros.length > 0">
            <li>
              <ul class="text-danger" *ngFor="let erro of erros">
                {{
                  erro
                }}
              </ul>
            </li>
          </div>
          <button
            class="btn btn-success espacamento"
            type="submit"
            [disabled]="!this.cadastro.valid"
          >
            Salvar
          </button>
          <button class="btn btn-secondary espacamento" (click)="limpar()">
            Limpar
          </button>
        </form>
      </div>
      <!-- End blog entries list -->
      <div class="col-lg-4">
        <app-recentes [atualiza]="atualiza"></app-recentes>
        <!-- End sidebar -->
      </div>
      <!-- End blog sidebar -->
    </div>
  </div>
</section>
<!-- End Blog Section -->
